/**
  * @name Smoothened
  * @version 1.2.0
  * @description Smoothened, *everything.* Includes ideas from Modern Indicators and Harmony.
  * @source https://github.com/LayneTheEpic/Smoothened
  * @authorId 393898580177321985
  * @author LayneTheEpic#9891
  * @license CC BY-NC-SA 4.0
  **/


/* WARNING

This theme is NOT intended for light mode. It will work, but only looks as good as light mode did.

It was slightly modified to make it more light mode friendly though.

*/

/* Config ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

:root {
	--transition-time: 0.2s;
	--indicator-size: 2px;
	
	--selection-color: #a5b3ff;
	--blurple: #7289da;
	
	--channel-focused: #7289da1d;
	--channel-focused-hover: #7289da2d;

	/* Dark mode */

	--channel-unread-marker: #fffa;
	--channel-unread: #ffffff0a;
	--channel-unread-hover: #ffffff20; 

	/* Light mode */

	--l-channel-unread-marker: #000a;
	--l-channel-unread: #0000000a;
	--l-channel-unread-hover: #00000020;
	

	--input-border-width: 1px;
}

/* Search bar  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.search-36MZv-, .searchBar-3dMhjb { /* Discord natively supports expanding search bar, so it just needs a transition */
	transition: width var(--transition-time);
}

/* Emoji picker stuffs */

.emojiItem-14v6tW.emojiItemSelected-1aLkfV { /* Namely, right click menu */
	box-shadow: none;
}

/* Stole this snippet from emma hehe */

.emojiItem-14v6tW .emojiItemImageLoading-1yEIxx {  /* Fix loading emojis, Discord uses png by default, why?? */
	background-image: none;
	background-color: var(--background-primary);
	border-radius: 30%;
}

/* Take the text bar and round that bad boy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.channelTextArea-rNsIhG.channelTextArea-2VhZ6z,
.scrollableContainer-2NUZem.webkit-HjD9Er {
	border-radius: calc(22px + var(--input-border-width));
}

/* Lighten up some colors (so you can seeeeeeee) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.content-1o0f9g { /* Message date divider */
	color: var(--interactive-normal);
	background: none;
}

/* Friends header  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.container-2Rl01u.clickable-2ap7je, /* /* Server menu (dropdown) */
.container-1r6BKw.themed-ANHk51, /* Friends menu bar */
.searchBar-6Kv8R2, /* "Find or start a conversation" */
.header-2o-2hj /*Server menu dropdown inside */
{
	height: 60px;
}

/* Remove ugleeeee lines ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.panels-j1Uci_ > .container-1giJp5, /* Underneath stream to server */
.panel-24C3ux.activityPanel-28dQGo, /* Stream activity */
.tabBarContainer-1s1u-z, /* User fullscreen popout */
.tabBody-3YRQ8W::before, /* Friends menu bar */
.content-yTz4x3::before, /* Channel header */
.peopleListItem-2nzedh, /* server person */
.searchBar-6Kv8R2, /* "Find or start a conversation" */
.header-2o-2hj /*Server menu dropdown inside */
{
	box-shadow: none;
	border: none;
}

.separator-2I32lJ { /* Settings divider */
	visibility: hidden;
}

/* Gradients  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.wrapper-1Rf91z.guilds-1SWlCJ > .scrollerWrap-2lJEkd.scrollerWrap-1IAIlv > .scroller-2FKFPG.scroller-2TZvBN { /* Server list container */
	background: linear-gradient(90deg, var(--background-tertiary) 0, var(--background-secondary) 65%);
}

.container-2Rl01u.hasBanner-14PPlG > .header-2o-2hj { /* If there's a banner, keep the server dropdown transparent... */
	background: transparent;
}

.app-1q1i1E .scroller-2FKFPG.sidebarRegionScroller-3MXcoP, /* Settings */
.scroller-2FKFPG.scroller-2wx7Hm, /* Server channels container */
.scroller-2FKFPG.scroller-1JbKMe, /* Friends list container */
.searchBar-6Kv8R2, /* "Find or start a conversation" */
.header-2o-2hj, /* ... otherwise show a gradient behind the dropdown!     ^  */
.panels-j1Uci_ /* Profile container (at bottom) */
{
	background: linear-gradient(90deg, var(--background-secondary) 50%, var(--background-primary) 100%);
}

.container-1r6BKw { /* Top bar (friends list) */
	background: linear-gradient(90deg, var(--background-primary) calc(100% - 420px), var(--background-secondary) calc(100% - calc(420px - calc(420px * 0.65)))) !important;
	
	/* AAAAA MY BRAIN HURTS */
	
	/* let me explain:
		linear-gradient from left to right
		first color stop is at 100%-420px (container width: 420px), which is at the left-most side of the thing, start at 100%, subtract the width of the container - 65% of it's width
		= color stop location
		yaay
		fun
	*/
}

.scroller-2FKFPG.messages-3amgkR.scroller-3sQKXg, /* Message container */
.scroller-2FKFPG.nowPlayingScroller-2XrVUt, /* Friends: 'active now' container */
.title-3qD0b-.container-1r6BKw, /* Channel name container */
.chatContent-a9vAAp /* Text container */
{
	background: linear-gradient(90deg, var(--background-primary) 0, var(--background-secondary) 65%) !important;
}


/* Fix the server image thingy */

.animatedContainer-1pJv5C { /* Image has high prio */
	z-index: 2;
}

.header-2o-2hj { /* ...but header is higher */
	z-index: 3;
}

/* Scrollbars  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.scroller-2FKFPG::-webkit-scrollbar { /* Don't really need comments... */
	width: 6px;
}

html.theme-light .scroller-2FKFPG::-webkit-scrollbar {
	width: 8px; /* ;---; */
}

.scroller-2FKFPG::-webkit-scrollbar-thumb {
	border: none;
}

.scroller-2FKFPG::-webkit-scrollbar-track-piece {
	background-color: transparent !important;
	border: none !important;
}


.sidebar-2K8pFh { /* Removes ugly corner from side bars */
	border-radius: 0 !important;
}

/* ????? */

.children-19S4PO::after {
	display: none;
}

/* Topbar upscaling  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.name-3YKhmS {
	font-size: 18px;
}

/* Game icons ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.gameIcon-gg34Dz.gameIcon-_0rmMm { /* Makes a fun little ani */
	transition: 0.7s ease-out;
	transform: none;
}

.gameIcon-gg34Dz.gameIcon-_0rmMm:hover {
	transform: translateY(-3px) scale(1.2) rotate(330deg);
	transition-delay: 2s; /* In hover so it's 1-way */
}


/* Transitions ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.message-2qnXI6.cozyMessage-3V1Y8y.groupStart-23k01U.wrapper-2a6GCs, /* Message */
.voiceUser-14U_Ns > .content-3xS9Lh > .username-lm8y6T, /* VC user name */
.message-2qnXI6.cozyMessage-3V1Y8y.wrapper-2a6GCs, /* Message, without name */
.offline-3nJYBR.container-2Pjhx-.clickable-1JJAn8, /* Offline */
.latin24CompactTimeStamp-2V7XIQ.timestamp-3ZCmNB, /* Message timestamp */
.emojiItem-14v6tW.emojiItemSelected-1aLkfV, /* Emoji in emojpi picker */
.iconVisibility-1bOqu7.wrapper-1ucjTd, /* Channel background, essentially */
.wrapper-1ucjTd .content-3at_AU, /* Channel name */
.item-1tOPte.labelContainer-1BLJti, /* Popup actions */
.name-IbjUBS.container-2ax-kl, /* Server category name */
.button-14-BFJ.button-38aScr, /* Mute, deafen, settings */
.side-8zPYf6 > .item-PXvHYJ, /* Settings item */
.spoilerWarning-2aAZq1, /* Spoiler warning */
.note-3HfJZ5 textarea, /* User "note" textarea */
.voiceUser-14U_Ns, /* VC user */
.layout-2DM8Md, /* Online members */
.name-3_Dsmg, /* Channel name */
.interactive, /* Personal mentions */
.mention /* Role mentions */
{
	transition: background, color, background-color, opacity, var(--transition-time);
}

.peopleListItem-2nzedh { /* Friends center menu item */
	transition: background var(--transition-time); /* I dunno why it's so picky ;-; */
}

.addButtonIcon-3u-3Hu, /* Add channel in category */
.icon-WnO6o2, /* Server category arrow (collapser) */
.icon-22AiRD /* Mute channel, pins, recent mentions, help, member list */
{
	transition: fill, transform, var(--transition-time);
}

.iconWrapper-2OrFZ1:last-child {
	display: none; /* remove useless help button */
}

/* Member popout ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.scroller-2FKFPG.bodyInner-245q0L { /* Main background fades from top to bottom */
	background: linear-gradient(180deg, var(--background-tertiary) 0, var(--background-secondary) 75%);
}

.header-2BwW8b > .activityUserPopout-2yItg2.activity-11LB_k { /* ruins gradient otherwise (by default is rgba(0, 0, 0, 0.5)) .-. */
	background-color: transparent;
}

.footer-1fjuF6 { /* More lines to remove */
	border: none;
}

/* Customize popout gradient to seamlessly connect with bottom gradient */

/* Spotify */

.headerSpotify-zpWxgT.header-2BwW8b {
	background: linear-gradient(180deg, #1db954 0, var(--background-tertiary) 100%);
}

/* Playing now */

.headerPlaying-j0WQBV.header-2BwW8b {
	background: linear-gradient(180deg, var(--blurple) 0, var(--background-tertiary) 100%);
}

/* Twitch */

.headerStreaming-2FjmGz.header-2BwW8b {
	background: linear-gradient(180deg, #6441a4 0, var(--background-tertiary) 100%);
}

/* Xbox */

.headerXbox-3G-4PF.header-2BwW8b {
	background: linear-gradient(180deg, #107c10 0, var(--background-tertiary) 100%)
}

/* Might be more; don't know them */


/* Channel unread thingy ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.iconVisibility-1bOqu7.wrapper-1ucjTd { /* The channel name gets rounded */
	padding: 0;
	border-radius: 0 4px 4px 0;
}

.content-3at_AU {	
	border-radius: 0 4px 4px 0; /* so do the innards */
}

.iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA > .unread-3zKkbm { /* Create the marker */
	border-radius: 0;
	
	height: 100%;
	top: 0;
	left: 0;
	margin: 0;
	
	background: var(--channel-unread-marker);
	
	width: var(--indicator-size);
}

/* Add light theme colors (-l- prefix means light mode) */

html.theme-light .iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA > .unread-3zKkbm {
	background: var(--l-channel-unread-marker);
}

.iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA > .content-3at_AU {
	background: var(--channel-unread);
}

html.theme-light .iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA > .content-3at_AU {
	background: var(--l-channel-unread);
}

.iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA:hover > .content-3at_AU {
	background: var(--channel-unread-hover);
}

html.theme-light .iconVisibility-1bOqu7.wrapper-1ucjTd.modeUnread-1zpFdA:hover > .content-3at_AU {
	background: var(--l-channel-unread-hover);
}


.content-3at_AU { /* Create space for marker */
	margin-left: calc(var(--indicator-size) + 2px);
}

.iconVisibility-1bOqu7.wrapper-1ucjTd.modeSelected-1zApJ_ { /* Make an identical marker for selected channel, via border (since there's no marker element */
	border-left: solid var(--indicator-size) var(--blurple);
}

.iconVisibility-1bOqu7.wrapper-1ucjTd.modeSelected-1zApJ_ > .content-3at_AU { /* focused channel color */
	background: var(--channel-focused); /* works for both themes, no worries */
	margin: 0;
}

.iconVisibility-1bOqu7.wrapper-1ucjTd.modeSelected-1zApJ_:hover > .content-3at_AU { /* Same for hover */
	background: var(--channel-focused-hover) !important; /* also works for both themes */
}


/* Jump to present ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.jumpToPresentBar-9P20AM.barBase-39XTcM { /* Center it and convert width to wrap around elements */
	width: max-content;

	transform: translateX(-50%); /* center */
	left: 50%;

	padding-bottom: 0;

	transition: padding-bottom var(--transition-time);
}

.jumpToPresentBar-9P20AM.barBase-39XTcM > .barButtonMain-1giYuj.barButtonBase-3UKlW2 { /* Remove text .-. */
	display: none;
}

.jumpToPresentBar-9P20AM.barBase-39XTcM > .spinner-2enMB9.spinner-qO2DFZ { /* Fix padding */
	padding-right: 0 !important;
	padding: 8px !important;
}

/* Harmony Indicators ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.iconBadge-2wi9r4.iconBadge-2NuvG9.base-PmTxvP, /* Audio from server icon */
.numberBadge-2s8kKX, /* Noti amount */
.iconBadge-qZ4Ksk /* Pin mark */
{
	background-color: var(--blurple) !important;
}

.icon-3BcwQu.iconServer-3Z_nSE, /* Deafened in VC */
.circleIconButton-jET_ig, /* Server discovery, create/join */
.strikethrough-1n4ekb /* Strikethrough on mute, deafen */
{
	color: var(--blurple);
}

.circleIconButton-jET_ig:hover, .circleIconButton-jET_ig.selected-ugP_am { /* Add hovers for 'create a new server', discovery */
	background-color: var(--blurple);
	color: var(--interactive-active);
}

.item-2hkk8m { /* Server 'pills' */
	background-color: var(--blurple) !important;
}

/* Text input ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.form-2fGMdU .channelTextArea-rNsIhG.channelTextArea-2VhZ6z { /* Main text area; accomadate for border */
	margin-bottom: calc(24px - var(--input-border-width));
	
	
	border: var(--input-border-width) solid transparent;
	
	transition: background, border, filter, var(--transition-time);
}

.form-2fGMdU .channelTextArea-rNsIhG.channelTextArea-2VhZ6z,
.form-2fGMdU .scrollableContainer-2NUZem.webkit-HjD9Er,
.form-2fGMdU .scrollableContainer-2NUZem.webkit-HjD9Er > .inner-MADQqc /* Hide backgrounds */
{
	background: transparent;
}

.form-2fGMdU .channelTextArea-rNsIhG.channelTextArea-2VhZ6z:hover:not(:focus-within) { /* Fun pseudo elements! Basically, on hover while not focused, display a dimmed version of the default bg */
	background: var(--channeltextarea-background);
	filter: brightness(0.9);
}

.form-2fGMdU .channelTextArea-rNsIhG.channelTextArea-2VhZ6z:focus-within { /* while focused, add border + default border */
	border: var(--input-border-width) solid var(--blurple);
	background: var(--channeltextarea-background);
}

.form-2fGMdU { /* Add transition to top margin, which is needed for the jump to present to move */
	transition: margin-top var(--transition-time);
}

.form-2fGMdU.channelTextArea-rNsIhG.channelTextArea-2VhZ6z:hover,
.form-2fGMdU:focus-within,
.form-2fGMdU:hover /* Under any of these conditions, make the top margin normal (not -8) so that the jump to present moves up */
{
	margin-top: 0 !important;
}

/* Small settings tweaks ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */

.side-8zPYf6 .separator-gCa7yv { /* Remove more separators */
	margin: 8px;
	height: 0;
}

.formText-3fs7AJ.description-3_Ncsb { /* Small margin change for Powercord hastebin text */
	margin-top: 0.5em;
	margin-left: 1px;
}

/* Misc */

.sprite-2iCowe { /* Emote picker in chat */
	transition: transform, filter var(--transition-time);
}

::selection { /* < that */
	background: var(--selection-color); /* meh this color looks better than blurple */
	color: var(--text-normal);
}